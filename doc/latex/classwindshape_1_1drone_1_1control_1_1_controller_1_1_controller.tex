\hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller}{}\section{windshape.\+drone.\+control.\+Controller.\+Controller Class Reference}
\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller}\index{windshape.\+drone.\+control.\+Controller.\+Controller@{windshape.\+drone.\+control.\+Controller.\+Controller}}


Inheritance diagram for windshape.\+drone.\+control.\+Controller.\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for windshape.\+drone.\+control.\+Controller.\+Controller\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_aa02a0cded906a0dbfb675de7143d83e6}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
def \mbox{\hyperlink{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a1a086d0027466c15d2fbf64f7b74291b}{\+\_\+\+\_\+del\+\_\+\+\_\+}} (self)
\item 
def \mbox{\hyperlink{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a02b5b4f02801fb76acaa744686fc9342}{get\+Parameters}} (self)
\item 
def \mbox{\hyperlink{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a94c618838ae2420a234f0d9d884c36d4}{reset}} (self)
\item 
def \mbox{\hyperlink{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a4ba4d98a9925ce20b7f3741c1eb9b3f4}{\+\_\+\+\_\+call\+\_\+\+\_\+}} (self, pose, estimate)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}MIMO controller to compute drone attitude.

The attitude is computed from the X, Y, Z and Yaw errors between the
desired setpoint and the drone pose measured by the mocap system
using four PIDs.

Input: x, y, z, roll, pitch, yaw (numpy.array[6]) [m, rad]

Output: roll, pitch, yaw, thrust (numpy.array[4]) [rad, (0-1)]

"Friend" class of ControlParameters.

Inherits from object.

Overrides __init__, __del__, __call__.
\end{DoxyVerb}
 

Definition at line 16 of file Controller.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_aa02a0cded906a0dbfb675de7143d83e6}\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_aa02a0cded906a0dbfb675de7143d83e6}} 
\index{windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def windshape.\+drone.\+control.\+Controller.\+Controller.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Initializes drone PIDs (x, y, z, yaw) and LP filter.\end{DoxyVerb}
 

Definition at line 37 of file Controller.\+py.

\mbox{\Hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a1a086d0027466c15d2fbf64f7b74291b}\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a1a086d0027466c15d2fbf64f7b74291b}} 
\index{windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}!\+\_\+\+\_\+del\+\_\+\+\_\+@{\+\_\+\+\_\+del\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+del\+\_\+\+\_\+@{\+\_\+\+\_\+del\+\_\+\+\_\+}!windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+del\+\_\+\+\_\+()}{\_\_del\_\_()}}
{\footnotesize\ttfamily def windshape.\+drone.\+control.\+Controller.\+Controller.\+\_\+\+\_\+del\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Does nothing special.\end{DoxyVerb}
 

Definition at line 64 of file Controller.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a4ba4d98a9925ce20b7f3741c1eb9b3f4}\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a4ba4d98a9925ce20b7f3741c1eb9b3f4}} 
\index{windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}!\+\_\+\+\_\+call\+\_\+\+\_\+@{\+\_\+\+\_\+call\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+call\+\_\+\+\_\+@{\+\_\+\+\_\+call\+\_\+\+\_\+}!windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+call\+\_\+\+\_\+()}{\_\_call\_\_()}}
{\footnotesize\ttfamily def windshape.\+drone.\+control.\+Controller.\+Controller.\+\_\+\+\_\+call\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{pose,  }\item[{}]{estimate }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns attitude (numpy.array[4]) to reach setpoint.

Process:
    1 - Computes X, Y, Z, Yaw error.
    2 - Project XY errors on drone body frame.
    3 - Sets yaw feed-forward as desired yaw from estimate.
    3 - Computes R, P, Y, T from X, Y, Yaw, Z errors using PIDs.
    4 - Returns R, P, Y, T.

Args:
    pose (numpy.array[6]): Current real drone pose.
    estimate (float): Pose estimated by FCU (can be shifted).
\end{DoxyVerb}
 

Definition at line 89 of file Controller.\+py.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a4ba4d98a9925ce20b7f3741c1eb9b3f4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a02b5b4f02801fb76acaa744686fc9342}\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a02b5b4f02801fb76acaa744686fc9342}} 
\index{windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}!get\+Parameters@{get\+Parameters}}
\index{get\+Parameters@{get\+Parameters}!windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}}
\subsubsection{\texorpdfstring{get\+Parameters()}{getParameters()}}
{\footnotesize\ttfamily def windshape.\+drone.\+control.\+Controller.\+Controller.\+get\+Parameters (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the controller parameters (ControlParameters).\end{DoxyVerb}
 

Definition at line 71 of file Controller.\+py.

\mbox{\Hypertarget{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a94c618838ae2420a234f0d9d884c36d4}\label{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a94c618838ae2420a234f0d9d884c36d4}} 
\index{windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}!reset@{reset}}
\index{reset@{reset}!windshape\+::drone\+::control\+::\+Controller\+::\+Controller@{windshape\+::drone\+::control\+::\+Controller\+::\+Controller}}
\subsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily def windshape.\+drone.\+control.\+Controller.\+Controller.\+reset (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Resets PIDs and display when controller is disabled.\end{DoxyVerb}
 

Definition at line 78 of file Controller.\+py.

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwindshape_1_1drone_1_1control_1_1_controller_1_1_controller_a94c618838ae2420a234f0d9d884c36d4_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/adrien/catkin\+\_\+ws/src/windshape/src/windshape/drone/control/\mbox{\hyperlink{_controller_8py}{Controller.\+py}}\end{DoxyCompactItemize}
